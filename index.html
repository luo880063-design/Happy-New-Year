<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,user-scalable=no" />
<meta name="theme-color" content="#000" />

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Ma+Shan+Zheng&display=swap" rel="stylesheet">

<title>Happy New Year â€” To å°ç‘¶</title>

<style>
html,body{
  margin:0;
  height:100%;
  background:#000;
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","PingFang SC","Microsoft YaHei";
}

canvas{
  position:fixed;
  inset:0;
}

.overlay{
  position:fixed;
  inset:0;
  display:grid;
  place-items:center;
  pointer-events:none;
}

.card{
  padding:18px 14px;
  border-radius:24px;
  background:rgba(0,0,0,.04);
  backdrop-filter:blur(6px) saturate(170%);
  box-shadow:0 20px 60px rgba(0,0,0,.35);
  text-align:center;
}

.line1,.line2{
  font-family:"Great Vibes",cursive;
  color:#fff;
  -webkit-text-stroke:.4px rgba(0,0,0,.3);
  text-shadow:0 4px 18px rgba(0,0,0,.6);
}

.line1{font-size:clamp(36px,8vw,80px);}
.line2{font-size:clamp(18px,5vw,38px);margin-bottom:8px;}

.line3{
  font-family:"Ma Shan Zheng",cursive;
  font-size:clamp(16px,4.5vw,30px);
  line-height:1.75;
  letter-spacing:.05em;
  color:#fff;
  -webkit-text-stroke:.55px rgba(0,0,0,.38);
  text-shadow:0 3px 12px rgba(0,0,0,.6);
}
</style>
</head>

<body>
<canvas id="fx"></canvas>

<div class="overlay">
  <div class="card">
    <div class="line1">Happy New Year</div>
    <div class="line2">â€” To å°ç‘¶</div>
    <div class="line3">
      2025å¹´æˆ‘åšè¿‡æœ€æ­£ç¡®çš„å†³å®šï¼Œå°±æ˜¯èµ°è¿›ä½ çš„ç”Ÿæ´»ã€‚<br>
      è°¢è°¢ä½ æ„¿æ„é™ªæˆ‘è¿™ä¸ªå¹¼ç¨šåˆç¬¨æ‹™çš„äººã€‚<br>
      æˆ‘æƒ³æŠŠå¾€åçš„æ¯ä¸€ä¸ªå²æœ«å¹´åˆéƒ½ç•™ç»™ä½ ã€‚
    </div>
  </div>
</div>

<script>
const canvas = document.getElementById("fx");
const ctx = canvas.getContext("2d");
let W,H,DPR=Math.min(2,devicePixelRatio||1);

function resize(){
  W=innerWidth;H=innerHeight;
  canvas.width=W*DPR;canvas.height=H*DPR;
  ctx.setTransform(DPR,0,0,DPR,0,0);
}
addEventListener("resize",resize);resize();

const rand=(a,b)=>a+Math.random()*(b-a);
const fireworks=[],particles=[];

/* ===== è‡ªåŠ¨çƒŸèŠ±ï¼ˆé«˜ç©ºç»½æ”¾ï¼‰ ===== */
class Firework{
  constructor(){
    this.x=rand(W*0.2,W*0.8);
    this.y=H+30;

    /* ğŸ”¥ æ ¸å¿ƒæ”¹åŠ¨ï¼šçˆ†ç‚¸é«˜åº¦éå¸¸é«˜ */
    this.targetY = rand(H*0.08, H*0.30);

    this.vy=rand(-3.8,-3.0);
    this.h=rand(0,360);
    this.trail=[];
  }
  update(){
    this.y+=this.vy;
    this.trail.push({x:this.x,y:this.y});
    if(this.trail.length>60) this.trail.shift();
    if(this.y<=this.targetY){
      explode(this.x,this.y,this.h);
      this.dead=true;
    }
  }
  draw(){
    ctx.strokeStyle=`hsla(${this.h},100%,70%,.6)`;
    ctx.lineWidth=2;
    ctx.beginPath();
    this.trail.forEach((p,i)=>i?ctx.lineTo(p.x,p.y):ctx.moveTo(p.x,p.y));
    ctx.stroke();
  }
}

function explode(x,y,h){
  const count=rand(120,160);
  for(let i=0;i<count;i++){
    const a=Math.random()*Math.PI*2;
    const s=rand(1.2,3.5);
    particles.push({
      x,y,
      vx:Math.cos(a)*s,
      vy:Math.sin(a)*s,
      life:1,
      h
    });
  }
}

function loop(){
  ctx.fillStyle="rgba(0,0,0,.12)";
  ctx.fillRect(0,0,W,H);

  /* âœ… è‡ªåŠ¨å‘å°„ï¼ŒèŠ‚å¥æ…¢ã€æµªæ¼« */
  if(Math.random()<0.018){
    fireworks.push(new Firework());
  }

  fireworks.forEach(f=>{f.update();f.draw();});
  for(let i=fireworks.length-1;i>=0;i--) if(fireworks[i].dead) fireworks.splice(i,1);

  particles.forEach(p=>{
    p.x+=p.vx;
    p.y+=p.vy;
    p.vy+=.03;
    p.life-=.012;
    ctx.fillStyle=`hsla(${p.h},100%,70%,${p.life})`;
    ctx.beginPath();
    ctx.arc(p.x,p.y,2,0,Math.PI*2);
    ctx.fill();
  });
  for(let i=particles.length-1;i>=0;i--) if(particles[i].life<=0) particles.splice(i,1);

  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
